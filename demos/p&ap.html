<!DOCTYPE html>
<html>
  <head>
    <title>Primes and shiz</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  </head>

  <body class="container">

    <br>
    <input type="number" id="numBox" value="0"><br>
    <input type="button" value="Start Factor Check" onclick="runOnce();">
    <input type="button" value="Start Factor Spam (can take a while)" onclick="runMany();">
    <input type="button" value="Find Primes up to val" onclick="optiPrimes();">
    <br><br>
    <input type="button" value="Find primes indefinately" onclick="allPrimes();">
    <hr>
    <div id="UI">
    </div>


    <script>

      function allPrimes(){
        primes = [2];
        currentNum = 2;

        while (true){
          currentNum++;
          isPrime = true;
          for (i in primes){
            if (currentNum % primes[i] == 0){
              isPrime = false;
              break;
            }
          }
          if (isPrime){
            primes.push(currentNum);
            console.log("New prime found: " + currentNum);
          }
        }
      }

      function optiPrimes(){
        var ui = document.getElementById("UI");
        ui.innerHTML = "";
        var output = document.createElement("p");
        inputNum = Number(document.getElementById("numBox").value);
        primes = [2];
        calculations = 0;

        for (currentNum = 2; currentNum < inputNum; currentNum++){
          isPrime = true;
          for (i in primes){
            calculations++;
            if (currentNum % primes[i] == 0){
              isPrime = false;
              break;
            }
          }
          if (isPrime){
            primes.push(currentNum);
            console.log("New prime found: " + currentNum);
          }
        }

        output.innerHTML = String(primes.length) + " primes occure before " + String(inputNum) + " they are: "
        for (i in primes){
          output.innerHTML += String(primes[i]) + ", ";
        }

        return primes;
      }

      function runOnce(){
        var ui = document.getElementById("UI");
        ui.innerHTML = "";
        factorial()
      }

      function runMany(){
        var ui = document.getElementById("UI");
        ui.innerHTML = "";
        primes = [];
        superNonPrimes = [];
        snpVal = 0;

        inputNum = Number(document.getElementById("numBox").value);
        for (currentNum = 2; currentNum <= inputNum; currentNum++){
          returned = factorial(currentNum);
          returnSize = returned.length
          if (returnSize > snpVal){
            snpVal = returnSize;
            superNonPrimes.push(currentNum);
          }
          else if (returnSize == 0){
            primes.push(currentNum);
          }

        }

      }

      function factorial(inputNum = 0){
        var ui = document.getElementById("UI");
        var output = document.createElement("p");
        if (!inputNum) inputNum = Number(document.getElementById("numBox").value);
        divisableBy = [];
        for (testNum = 2; testNum <= inputNum/2; testNum++){
          if (inputNum % testNum == 0) {
            divisableBy.push(testNum);
          }
        }

        output.innerHTML = "The number: " + String(inputNum) + " is "
        if (divisableBy.length){
          output.innerHTML += "divisable by: ";
          for (i in divisableBy){
            output.innerHTML += String(divisableBy[i]) + ", ";
          }
        }
        else if (inputNum == 1) {
          output.innerHTML += "technically a prime..."
        }
        else {
          output.innerHTML += "a prime!"
        }
        ui.appendChild(output);

        return divisableBy;
      }

    </script>

  </body>
</html>
